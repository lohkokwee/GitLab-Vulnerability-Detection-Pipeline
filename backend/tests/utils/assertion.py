from typing import Any
from app.database.db import Base

def assert_attributes(db_object: Base, attrs: dict[str, Any], excl: list[str] = []):
  for attr, tally_value in attrs.items():
    if attr in excl:
      continue

    db_value = getattr(db_object, attr)
    if isinstance(db_value, list):
      for item in db_value:
        assert item in tally_value
    else:
      assert db_value == tally_value