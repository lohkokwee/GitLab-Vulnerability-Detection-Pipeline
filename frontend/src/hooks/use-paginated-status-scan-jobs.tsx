import useSWR from "swr";

import { fetcher } from "@/lib/fetcher";
import { IPaginatedResponse } from "@/types/api/paginated-response";
import { IStatusScanJob } from "@/types/workers-status";
import { GET_ALL_PAGINATED_SCAN_JOBS_API } from "@/constants/api/workers-status";

const usePaginatedStatusScanJobs = (page: number, size: number) => {
  const { data, error, isLoading } = useSWR<IPaginatedResponse<IStatusScanJob>>(
    `${GET_ALL_PAGINATED_SCAN_JOBS_API}?page=${page}&size=${size}`,
    fetcher
  )

  return {
    data,
    isLoading,
    isError: error,
  }
}

export { usePaginatedStatusScanJobs }