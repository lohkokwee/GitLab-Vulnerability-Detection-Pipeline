import useSWR from "swr";

import { IStatusScanJob } from "@/types/workers-status/status-scan-job"
import { GET_STATUS_SCAN_JOB_BY_DB_JOB_ID } from "@/constants/api/workers-status"
import { fetcher } from "@/lib/fetcher"

const useStatusScanJob = (dbJobId: string) => {
  const { data, error, isLoading } = useSWR<IStatusScanJob>(
    `${GET_STATUS_SCAN_JOB_BY_DB_JOB_ID}/${dbJobId}`,
    fetcher,
  )

  return {
    statusScanJob: data,
    isError: error,
    error,
    isLoading,
  }
}

export { useStatusScanJob }
