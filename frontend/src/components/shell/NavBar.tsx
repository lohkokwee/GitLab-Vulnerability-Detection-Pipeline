"use client"

import * as React from "react"
import Link from "next/link"
import {
  NavigationMenu,
  NavigationMenuItem,
  NavigationMenuLink,
  NavigationMenuList,
  navigationMenuTriggerStyle,
} from "@/components/ui/navigation-menu"
import {
  Tooltip,
  TooltipContent,
  TooltipProvider,
  TooltipTrigger,
} from "@/components/ui/tooltip"
import { Input } from "@/components/ui/input"

import { ModeToggle } from "../shared/buttons/ModeToggle"
import { TypographyP } from "../shared/typography/TypographyP"

const NAV_LINKS: { seq: number, title: string; href: string; description: string }[] = [
  {
    seq: 1,
    title: "Home",
    href: "/",
    description: "A simple dashbaord containing the aggregated statuses of all ongoing jobs."
  },
  {
    seq: 2,
    title: "Jobs",
    href: "/jobs",
    description: "Shows all historical jobs handled."
  },
]

const NavBar = () => {
  return (
    <nav className="border-b border-dashed">
      <div className="flex items-center justify-around h-16">
        {renderNavMenu()}
        {renderModeToggle()}
      </div>
    </nav>
  )
}

export { NavBar }


const renderNavMenu = () => {
  return (
    <NavigationMenu>
      <NavigationMenuList>
        {NAV_LINKS.map((link) => (
          <NavigationMenuItem  key={link.seq}>
            <TooltipProvider>
              <Tooltip>
                <TooltipTrigger>
                  <Link href={link.href} legacyBehavior passHref>
                    <NavigationMenuLink className={navigationMenuTriggerStyle()}>
                      {link.title}
                    </NavigationMenuLink>
                  </Link>
                </TooltipTrigger>
                <TooltipContent>
                  <TypographyP text={link.description} />
                </TooltipContent>
              </Tooltip>
            </TooltipProvider>
          </NavigationMenuItem>
        ))}
      </NavigationMenuList>
    </NavigationMenu>
  )
}

const renderModeToggle = () => {
  return (
    <TooltipProvider>
      <Tooltip>
        <TooltipTrigger>
          <ModeToggle />
        </TooltipTrigger>
        <TooltipContent>
          <TypographyP text="Toggle light/dark mode." />
        </TooltipContent>
      </Tooltip>
    </TooltipProvider>
  )
}
