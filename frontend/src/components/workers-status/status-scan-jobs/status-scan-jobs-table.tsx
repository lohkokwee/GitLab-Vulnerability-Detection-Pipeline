"use client"

import { usePaginatedStatusScanJobs } from "@/hooks/use-paginated-status-scan-jobs"
import { DataTable } from "./data-table"
import { useStatusScanJobsTable } from "@/hooks/use-status-scan-jobs-table"
import { paginatedStatusScanJobsColumns } from "./data-table-columns"

const StatusScanJobsTable = () => {
  const { data, isLoading, isError, pagination, setPagination } = usePaginatedStatusScanJobs()
  const { table } = useStatusScanJobsTable({
    data: data?.items,
    columns: paginatedStatusScanJobsColumns,
    pagination,
    setPagination,
    pageCount: data?.pages,
    isLoading,
  })

  return (
    <div className="container mx-auto py-10">
      <DataTable 
        table={table}
        isError={isError}
      />
    </div>
  )
}

export { StatusScanJobsTable }