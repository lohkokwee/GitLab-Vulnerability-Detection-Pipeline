"use client"

import { usePaginatedStatusScanJobs } from "@/hooks/use-paginated-status-scan-jobs"
import { DataTable } from "./data-table"
import { useStatusScanJobsTable } from "@/hooks/use-status-scan-jobs-table"
import { paginatedStatusScanJobsColumns } from "./data-table-columns"

const StatusScanJobsDataTable = () => {
  const { data, isError, isLoading, pagination, setPagination } = usePaginatedStatusScanJobs()
  const { table } = useStatusScanJobsTable({
    data: data?.items,
    columns: paginatedStatusScanJobsColumns,
    pagination,
    setPagination,
    pageCount: data?.pages,
    isLoading,
  })

  return (
    <DataTable 
      table={table}
      isError={isError}
    />
  )
}

export { StatusScanJobsDataTable }